valtsman_UA$lang = NULL
valtsman_UA$chart_key = "вальцман"
valtsman_UA$key = "вальцман"
valtsman_UA$ua_ = TRUE
valtsman_RU <- valtsman %>% filter(lang != "UKRAINIAN")
valtsman_RU$lang = NULL
valtsman_RU$chart_key = "вальцман"
valtsman_RU$key = "вальцман"
valtsman_RU$ua_ = FALSE
remove_files("вальц.*")
write.csv(chocolate_UA, "вальцман_UA.csv", row.names = F)
write.csv(chocolate_RU, "вальцман_RU.csv", row.names = F)
#####################################################################
#радіосволота
radio_files <- list.files(pattern="*.сволот.*")
radio  = do.call(rbind, lapply(radio_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
radio$tweet <- as.character(radio$tweet)
radio$lang = detectLanguage(radio$tweet)$detectedLanguage
radio_UA <- radio %>% filter(lang == "UKRAINIAN")
radio_UA$lang = NULL
radio_UA$chart_key = "радіосволота"
radio_UA$key = "радіосволота"
radio_UA$ua_ = TRUE
radio_RU <- radio %>% filter(lang != "UKRAINIAN")
radio_RU$lang = NULL
radio_RU$chart_key = "радіосволота"
radio_RU$key = "радиосволота"
radio_RU$ua_ = FALSE
remove_files(".сволот.*")
write.csv(radio_UA, "радіосволота_UA.csv", row.names = F)
write.csv(radio_RU, "радіосволота_RU.csv", row.names = F)
library("dplyr")
library("readr")
library("stringr")
library("tidyr")
library("ggplot2")
library("zoo")
library("scales")
library("ISOweek")
library("tsibble")
library(grid)
library(gridExtra)
library(extrafont)
library(devtools)
library(cldr) #визначення мови
remove_files = function(myPattern){
mydir <- "/home/yevheniia/python/hatespeech/ALL_TWEETS/"
delfiles <- dir(path=mydir, pattern=myPattern)
file.remove(file.path(mydir, delfiles))
}
setwd("/home/yevheniia/python/hatespeech/main_queries/")
new_folder <- "/home/yevheniia/python/hatespeech/ALL_TWEETS/"
dirs = list.dirs('.', recursive=FALSE)
for(i in dirs){ #для кожної папки в поточній директорії
i = sub("\\./", '', i)
#створюємо шлях поточної
current_folder <- paste0("/home/yevheniia/python/hatespeech/main_queries/", i)
print(current_folder)
# заходимо в неї
setwd(current_folder)
# якщо там є потрібний файл, то копіюємо його в потрібно папку і називаємо так само як його батьківська папка
if(file.exists("tweets.csv")){
print("exists")
file.copy("tweets.csv", to = new_folder, recursive = TRUE)
setwd(new_folder)
file.rename(from = "tweets.csv", to = paste0(i, ".csv"))
} else {
next
}
}
# додаємо до кожного файлу колонку з пошуковим запитом
setwd(new_folder)
myFiles <- list.files(pattern="*.csv")
for(file in myFiles){
current_file = read.csv(file)
filename <- sub("\\.csv", '', file)
print(filename)
current_file$query <- filename
write.csv(current_file, file = file, row.names = F)
}
#групуємо однозначні рос. та укр. пошукові запити в окремі csv
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/")
# зрадофіли
zradofilyUA_files <- list.files(pattern="зрадофі.*")
zradofilyUA = do.call(rbind, lapply(zradofilyUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
zradofilyUA$chart_key = "зрадофіли"
zradofilyUA$key = "зрадофіли"
zradofilyUA$ua_ = TRUE
zradofilyRU_files <- list.files(pattern="зрадофил.*")
zradofilyRU = do.call(rbind, lapply(zradofilyRU_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
zradofilyRU$chart_key = "зрадофіли"
zradofilyRU$key = "зрадофилы"
zradofilyRU$ua_ = FALSE
remove_files("зрадофил.*")
remove_files("зрадофі.*")
write.csv(zradofilyRU, "зрадофіли_RU.csv", row.names = F)
write.csv(zradofilyUA, "зрадофіли_UA.csv", row.names = F)
# дурналісти
durnalistRU_files <- list.files(pattern="дурнали.*")
durnalistRU = do.call(rbind, lapply(durnalistRU_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
durnalistRU$chart_key = "дурналісти"
durnalistRU$key = "дурналисты"
durnalistRU$ua_ = FALSE
durnalistUA_files <- list.files(pattern="дурналі.*")
durnalistUA = do.call(rbind, lapply(durnalistUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
durnalistUA$chart_key = "дурналісти"
durnalistUA$key = "дурналісти"
durnalistUA$ua_ = TRUE
remove_files("дурнали.*")
remove_files("дурналі.*")
write.csv(durnalistUA, "дурналісти_UA.csv", row.names = F)
write.csv(durnalistRU, "дурналісти_RU.csv", row.names = F)
#журнализды
journalizdRU_files <- list.files(pattern="журнализд.*")
journalizdRU = do.call(rbind, lapply(journalizdRU_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
journalizdRU$chart_key = "журналізди"
journalizdRU$key = "журнализды"
journalizdRU$ua_ = FALSE
journalizdUA_files <- list.files(pattern="журналізд.*")
journalizdUA = do.call(rbind, lapply(journalizdUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
journalizdUA$chart_key = "журналізди"
journalizdUA$key = "журналізди"
journalizdUA$ua_ = TRUE
remove_files("журнализд.*")
remove_files("журналізд.*")
write.csv(journalizdRU, "журналізди_RU.csv", row.names = F)
write.csv(journalizdUA, "журналізди_UA.csv", row.names = F)
# грантожери
grantoUA_files <- list.files(pattern="грантож.*")
grantoUA = do.call(rbind, lapply(grantoUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
grantoUA$chart_key = "грантожери"
grantoUA$key = "грантожери"
grantoUA$ua_ = TRUE
remove_files("грантож.*")
write.csv(grantoUA, "грантожери_UA.csv", row.names = F)
#зрадойоби
zradoyoRU_files <- list.files(pattern="зрадое.*")
zradoyoRU = do.call(rbind, lapply(zradoyoRU_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
zradoyoRU$chart_key = "зрадойоби"
zradoyoRU$key = "зрадоeби"
zradoyoRU$ua_ = FALSE
zradoyoUA_files <- list.files(pattern="зрадой.*")
zradoyoUA = do.call(rbind, lapply(zradoyoUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
zradoyoUA$chart_key = "зрадойоби"
zradoyoUA$key = "зрадойоби"
zradoyoUA$ua_ = TRUE
remove_files("зрадое.*")
remove_files("зрадой.*")
write.csv(zradoyoUA, "зрадойоби_UA.csv", row.names = F)
write.csv(zradoyoRU, "зрадойоби_RU.csv", row.names = F)
#медіабляді
mediablyadiRU_files <- list.files(pattern="медиабл.*")
mediablyadiRU = do.call(rbind, lapply(mediablyadiRU_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
mediablyadiRU$chart_key = "медіабляді"
mediablyadiRU$key = "медиабляди"
mediablyadiRU$ua_ = FALSE
mediablyadiUA_files <- list.files(pattern="медіабл.*")
mediablyadiUA= do.call(rbind, lapply(mediablyadiUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
mediablyadiUA$chart_key = "медіабляді"
mediablyadiUA$key = "медіабляді"
mediablyadiUA$ua_ = TRUE
remove_files("медиабл.*")
remove_files("медіабл.*")
write.csv(mediablyadiRU, "медіабляді_RU.csv", row.names = F)
write.csv(mediablyadiUA, "медіабляді_UA.csv", row.names = F)
#хробацьке
hrobatskeUA_files <- list.files(pattern="хробац.*")
hrobatskeUA = do.call(rbind, lapply(hrobatskeUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
hrobatskeUA$chart_key = "хробацьке"
hrobatskeUA$key = "хробацьке"
hrobatskeUA$ua_ = TRUE
remove_files("хробац.*")
write.csv(hrobatskeUA, "хробацьке_UA.csv", row.names = F)
#медіаповії
poviiUA_files <- list.files(pattern="*.пові.*")
poviiUA = do.call(rbind, lapply(poviiUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
poviiUA$chart_key = "медіаповії"
poviiUA$key = "медіаповії"
poviiUA$ua_ = TRUE
remove_files("*.пові.*")
write.csv(poviiUA, "медіаповії_UA.csv", row.names = F)
# ідіоти
idiotsUA_files <- list.files(pattern="*.ідіот.*")
idiotsUA = do.call(rbind, lapply(idiotsUA_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
idiotsUA$chart_key = "корисні ідіоти"
idiotsUA$key = "корисні ідіоти"
idiotsUA$ua_ = TRUE
remove_files("*.ідіот.*")
write.csv(idiotsUA, "корисні_ідіоти_UA.csv", row.names = F)
# журнашлюшки
shluhi_files <- list.files(pattern="*.шлю.*")
shluhi  = do.call(rbind, lapply(shluhi_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
shluhi$tweet <- as.character(shluhi$tweet)
shluhi$lang = detectLanguage(shluhi$tweet)$detectedLanguage
shluhi_UA <- shluhi %>% filter(lang == "UKRAINIAN")
shluhi_UA$lang = NULL
shluhi_UA$chart_key = "журнашлюшки"
shluhi_UA$key = "журнашлюшки"
shluhi_UA$ua_ = TRUE
shluhi_RU <- shluhi %>% filter(lang != "UKRAINIAN")
shluhi_RU$lang = NULL
shluhi_RU$chart_key = "журнашлюшки"
shluhi_RU$key = "журнашлюшки"
shluhi_RU$ua_ = FALSE
remove_files("*.шлю.*")
write.csv(shluhi_UA, "журнашлюшки_UA.csv", row.names = F)
write.csv(shluhi_RU, "журнашлюшки_RU.csv", row.names = F)
# поросенко
porosenko_files <- list.files(pattern="поросен.*")
porosenko  = do.call(rbind, lapply(porosenko_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko$tweet <- as.character(porosenko$tweet)
porosenko$lang = detectLanguage(porosenko$tweet)$detectedLanguage
porosenko_UA <- porosenko %>% filter(lang == "UKRAINIAN")
porosenko_UA$lang = NULL
porosenko_UA$chart_key = "поросенко"
porosenko_UA$key = "поросенко"
porosenko_UA$ua_ = TRUE
porosenko_RU <- porosenko %>% filter(lang != "UKRAINIAN")
porosenko_RU$lang = NULL
porosenko_RU$chart_key = "поросенко"
porosenko_RU$key = "поросенко"
porosenko_RU$ua_ = FALSE
remove_files("поросен.*")
write.csv(porosenko_UA, "поросенко_UA.csv", row.names = F)
write.csv(porosenko_RU, "поросенко_RU.csv", row.names = F)
#порохоботи
porohoboty_files <- list.files(pattern="*.бот.*")
porohoboty  = do.call(rbind, lapply(porohoboty_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
porohoboty$tweet <- as.character(porohoboty$tweet)
porohoboty$lang = detectLanguage(porohoboty$tweet)$detectedLanguage
porohoboty_UA <- porohoboty %>% filter(lang == "UKRAINIAN")
porohoboty_UA$lang = NULL
porohoboty_UA$chart_key = "порохоботи"
porohoboty_UA$key = "порохоботи"
porohoboty_UA$ua_ = TRUE
porohoboty_RU <- porohoboty %>% filter(lang != "UKRAINIAN")
porohoboty_RU$lang = NULL
porohoboty_RU$chart_key = "порохоботы"
porohoboty_RU$key = "порохоботы"
porohoboty_RU$ua_ = FALSE
remove_files("*.бот.*")
write.csv(porohoboty_UA, "порохоботи_UA.csv", row.names = F)
write.csv(porohoboty_RU, "порохоботи_RU.csv", row.names = F)
#####################################################################
#шоколадник
chocolate_files <- list.files(pattern="шокола.*")
chocolate  = do.call(rbind, lapply(chocolate_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
chocolate <- chocolate %>% filter(date > as.Date("2013-12-31")) %>% filter(!str_detect(tweet, "торт|кекс|крем|арахис"))
chocolate$tweet <- as.character(chocolate$tweet)
chocolate$lang = detectLanguage(chocolate$tweet)$detectedLanguage
chocolate_UA <- chocolate %>% filter(lang == "UKRAINIAN")
chocolate_UA$lang = NULL
chocolate_UA$chart_key = "шоколадник"
chocolate_UA$key = "шоколадник"
chocolate_UA$ua_ = TRUE
chocolate_RU <- chocolate %>% filter(lang != "UKRAINIAN")
chocolate_RU$lang = NULL
chocolate_RU$chart_key = "шоколадник"
chocolate_RU$key = "шоколадник"
chocolate_RU$ua_ = FALSE
remove_files("шокола.*")
write.csv(chocolate_UA, "шоколадник_UA.csv", row.names = F)
write.csv(chocolate_RU, "шоколадник_RU.csv", row.names = F)
#####################################################################
#вальцман
valtsman_files <- list.files(pattern="вальц.*")
valtsman  = do.call(rbind, lapply(valtsman_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
valtsman$tweet <- as.character(valtsman$tweet)
valtsman$lang = detectLanguage(valtsman$tweet)$detectedLanguage
valtsman_UA <- valtsman %>% filter(lang == "UKRAINIAN")
valtsman_UA$lang = NULL
valtsman_UA$chart_key = "вальцман"
valtsman_UA$key = "вальцман"
valtsman_UA$ua_ = TRUE
valtsman_RU <- valtsman %>% filter(lang != "UKRAINIAN")
valtsman_RU$lang = NULL
valtsman_RU$chart_key = "вальцман"
valtsman_RU$key = "вальцман"
valtsman_RU$ua_ = FALSE
remove_files("вальц.*")
write.csv(chocolate_UA, "вальцман_UA.csv", row.names = F)
write.csv(chocolate_RU, "вальцман_RU.csv", row.names = F)
nedorog_files <- list.files(pattern="недорог.*")
nedorog  = do.call(rbind, lapply(nedorog_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
nedorog$tweet <- as.character(nedorog$tweet)
nedorog$lang = detectLanguage(nedorog$tweet)$detectedLanguage
nedorog_UA <- nedorog %>% filter(lang == "UKRAINIAN")
nedorog_UA$lang = NULL
nedorog_UA$chart_key = "недорогенькі"
nedorog_UA$key = "недорогенькі"
nedorog_UA$ua_ = TRUE
nedorog_RU <- nedorog %>% filter(lang != "UKRAINIAN")
nedorog_RU$lang = NULL
nedorog_RU$chart_key = "недорогенькі"
nedorog_RU$key = "недорогенькі"
nedorog_RU$ua_ = FALSE
remove_files("недорог.*")
write.csv(nedorog_UA, "недорогенькі_UA.csv", row.names = F)
write.csv(nedorog_RU, "недорогенькі_RU.csv", row.names = F)
#####################################################################
#шокопідар
chocopidar_files <- list.files(pattern="шокоп.*")
chocopidar  = do.call(rbind, lapply(chocopidar_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
chocopidar$tweet <- as.character(chocopidar$tweet)
chocopidar$lang = detectLanguage(chocopidar$tweet)$detectedLanguage
chocopidar_UA <- chocopidar %>% filter(lang == "UKRAINIAN")
chocopidar_UA$lang = NULL
chocopidar_UA$chart_key = "шокопідар"
chocopidar_UA$key = "шокопідар"
chocopidar_UA$ua_ = TRUE
chocopidar_RU <- chocopidar %>% filter(lang != "UKRAINIAN")
chocopidar_RU$lang = NULL
chocopidar_RU$chart_key = "шокопідар"
chocopidar_RU$key = "шокопидар"
chocopidar_RU$ua_ = FALSE
remove_files("шокоп.*")
write.csv(chocopidar_UA, "шокопідар_UA.csv", row.names = F)
write.csv(chocopidar_RU, "шокопідар_RU.csv", row.names = F)
#####################################################################
#радіосволота
radio_files <- list.files(pattern="*.сволот.*")
radio  = do.call(rbind, lapply(radio_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
radio$tweet <- as.character(radio$tweet)
radio$lang = detectLanguage(radio$tweet)$detectedLanguage
radio_UA <- radio %>% filter(lang == "UKRAINIAN")
radio_UA$lang = NULL
radio_UA$chart_key = "радіосволота"
radio_UA$key = "радіосволота"
radio_UA$ua_ = TRUE
radio_RU <- radio %>% filter(lang != "UKRAINIAN")
radio_RU$lang = NULL
radio_RU$chart_key = "радіосволота"
radio_RU$key = "радиосволота"
radio_RU$ua_ = FALSE
remove_files(".сволот.*")
write.csv(radio_UA, "радіосволота_UA.csv", row.names = F)
write.csv(radio_RU, "радіосволота_RU.csv", row.names = F)
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/left/")
files = list.files(pattern= "*.csv")
for(file in files){
current = read.csv(file, stringsAsFactors = FALSE)
print(file)
print(names(current))
}
data = do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
data = unique(data)
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data1.json")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/right/")
files2 = list.files(pattern= "*.csv")
data2 = do.call(rbind, lapply(files2, function(x) read.csv(x, stringsAsFactors = FALSE)))
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/left/")
files = list.files(pattern= "*.csv")
for(file in files){
current = read.csv(file, stringsAsFactors = FALSE)
print(file)
print(names(current))
}
data = do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
data = unique(data)
data <- data %>%  select(4,5,25,26,27)
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data1.json")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/right/")
files2 = list.files(pattern= "*.csv")
data2 = do.call(rbind, lapply(files2, function(x) read.csv(x, stringsAsFactors = FALSE)))
data2 = unique(data2)
data2 <- data2 %>% select(4,5,25,26,27)
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data2 %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data2.json")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/left/")
files = list.files(pattern= "*.csv")
data = do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
data = unique(data)
data <- data %>%  select(4,5,25,26,27) %>% filter(date > as.Date("2013-01-01"))
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data1.json")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/right/")
files2 = list.files(pattern= "*.csv")
data2 = do.call(rbind, lapply(files2, function(x) read.csv(x, stringsAsFactors = FALSE)))
data2 = unique(data2)
data2 <- data2 %>% select(4,5,25,26,27) %>% filter(date > as.Date("2013-01-01"))
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data2 %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data2.json")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/")
journalizdRU_files <- list.files(pattern="журналі.*")
journalizdRU_files <- list.files(pattern="журналі.*")
journaliz_files <- list.files(pattern="журналі.*")
journaliz = do.call(rbind, lapply(journaliz_files, function(x) read.csv(x, stringsAsFactors = FALSE)))
View(journaliz)
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/left/")
files = list.files(pattern= "*.csv")
data = do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
data = unique(data)
data <- data %>%  select(4,5,25,26,27) %>% filter(date > as.Date("2014-01-01"))
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data1.json")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/right/")
files2 = list.files(pattern= "*.csv")
data2 = do.call(rbind, lapply(files2, function(x) read.csv(x, stringsAsFactors = FALSE)))
data2 = unique(data2)
data2 <- data2 %>% select(4,5,25,26,27) %>% filter(date > as.Date("2014-01-01"))
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data2 %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data2.json")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/left/")
files = list.files(pattern= "*.csv")
data = do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
data = unique(data)
data <- data %>%  select(4,5,25,26,27) %>% filter(date > as.Date("2014-01-01"))
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data1.json")
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/left/")
files = list.files(pattern= "*.csv")
data = do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
data = unique(data)
data <- data %>%  select(4,5,25,26,27) %>% filter(date > as.Date("2014-01-01"))
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
data %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("data1.json")
View(journaliz)
journaliz <- journaliz %>%
filter(!str_detect("путин|кремл|россий|рос|рус"))
journaliz <- journaliz %>%
filter(!str_detect(tweet, "путин|кремл|россий|рос|рус"))
journaliz_ua <- journaliz %>%
filter(str_detect(tweet, "(у|У)кр|(п|П)орош"))
View(journaliz_ua)
journaliz_ua <- journaliz %>%
filter(str_detect(tweet, "(у|У)кр|(п|П)орош|(к|К)и(ї|e)в|хробац"))
journaliz_usa <- journaliz %>%
filter(str_detect(tweet, "амер|пиндо|штат"))
View(journaliz_usa)
journaliz_ua <- journaliz %>%
filter(str_detect(tweet, "(у|У)кр|(п|П)орош|(к|К)и(ї|e)в|хробац|кацап"))
journaliz_ua <- journaliz %>%
filter(str_detect(tweet, "(у|У)кр|(п|П)орош|(к|К)и(ї|e)в|(Х|x)хробац|(М|м)айда"))
View(journaliz)
journaliz <- journaliz %>%
filter(!str_detect(tweet, "путин|кремл|россий|рос|рус|кацап|эхо|дожд"))
journaliz <- journaliz %>%
filter(!str_detect(tweet, "(П|п)утин|кремл|россий|рос|рус|кацап|эхо|дожд"))
journaliz <- journaliz %>%
filter(!str_detect(tweet, "(П|п)утин|(к|К)ремл|россий|рос|рус|кацап|эхо|дожд"))
journaliz <- journaliz %>%
filter(!str_detect(tweet, "(П|п)утин|(к|К)ремл|(р|Р)оссий|(р|Р)ос|(р|Р)ус|кацап|эхо|дожд"))
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/")
boty <- list.files(pattern="порохоб.*")
journaliz = do.call(rbind, lapply(boty, function(x) read.csv(x, stringsAsFactors = FALSE)))
boty <- list.files(pattern="порохоб.*")
boty = do.call(rbind, lapply(boty, function(x) read.csv(x, stringsAsFactors = FALSE)))
View(boty)
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
View(boty)
View(porosenko)
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko = unique(porosenko)
View(porosenko)
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko = unique(porosenko)
porosenko <- porosenko %>%  select(4,5,25,26,27) %>% filter(date > as.Date("2014-01-01"))
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
porosenko %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("porosenko.json")
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko = unique(porosenko)
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/")
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko = unique(porosenko)
porosenko <- porosenko %>%  select(4,5,7, 9, 11, 24, 25,26,27) %>% filter(date > as.Date("2014-01-01"))
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
porosenko %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("porosenko.json")
porosenko$monthYear <- as.Date(as.yearmon(porosenko$date))
porosenko$weekYear <-  yearweek(as.Date(porosenko$date))
porosenko <- porosenko %>%
group_by(key, ua_, weekYear) %>%
mutate(countByWeek = n()) %>%
ungroup()
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
porosenko %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("porosenko.json")
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko = unique(porosenko)
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko = unique(porosenko)
porosenko <- porosenko %>%  select(4,5,7, 9, 11, 24, 25,26,27) %>% filter(date > as.Date("2014-01-01"))
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/")
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko = unique(porosenko)
porosenko <- porosenko %>%  select(4,5,7, 9, 11, 24, 25,26,27) %>% filter(date > as.Date("2014-01-01"))
porosenko$week <-  yearweek(as.Date(porosenko$date))
porosenko <- porosenko %>%
group_by(key, ua_, weekr) %>%
mutate(count = n()) %>%
ungroup()
setwd("/home/yevheniia/python/hatespeech/ALL_TWEETS/")
porosenko <- list.files(pattern="порос.*")
porosenko = do.call(rbind, lapply(porosenko, function(x) read.csv(x, stringsAsFactors = FALSE)))
porosenko = unique(porosenko)
porosenko <- porosenko %>%  select(4,5,7, 9, 11, 24, 25,26,27) %>% filter(date > as.Date("2014-01-01"))
porosenko$week <-  yearweek(as.Date(porosenko$date))
porosenko <- porosenko %>%
group_by(key, ua_, week) %>%
mutate(count = n()) %>%
ungroup()
setwd("/home/yevheniia/git/vue1/hate/src/assets/data/")
porosenko %>% jsonlite::toJSON(na="null", pretty = TRUE) %>% writeLines("porosenko.json")
